# 配置端口
server:
  port: 10010
  servlet:
    context-path: /

# 配置 spring
spring:
  application:
    name: config-center

  #配置 config
  cloud:
    config:
      server:
        git:
          uri: https://gitee.com/hedonwang/springcloud-config.git  #Gitee上面的git仓库名称
          search-paths: springcloud-config                         #搜索目录
          username: useername                                      #git或gitee账号
          password: password                                       #git或gitee密码
      label: master                                                #读取分支

    #注册进 Consul
    consul:
      host: localhost         #先配置在本机
      port: 8500              #Consul默认端口8500
      discovery:
        register: true
        instance-id: ${spring.application.name}-1
        service-name: ${spring.application.name}
        port: ${server.port}
        prefer-ip-address: true #开启 ip 地址注册(默认是DNS解析）
        ip-address: localhost

  #配置 RabbitMQ => Bus 实现配置的动态刷新需要 rabbitmq 进行广播通信
#  rabbitmq:
#    host: 172.16.208.150      #服务器地址
#    port: 5672                #端口，默认为5672
#    username: hedon           #RabbitMQ 用户名
#    password: hedon           #RabbitMQ 密码
#    virtual-host: /hedon      #虚拟主机名

#rabbitmq 相关配置，暴露bus刷新配置的端点
management:
  endpoints:
    web:
      exposure:
        include: "*"

